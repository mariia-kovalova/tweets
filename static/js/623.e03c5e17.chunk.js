"use strict";(self.webpackChunktweets_app=self.webpackChunktweets_app||[]).push([[623],{3623:function(n,e,t){t.r(e),t.d(e,{default:function(){return zn}});var r=t(2791),o=t(6907),i=t(8683),s=t(6916),a=function(n){return n.tweets.isLoading},c=function(n){return n.tweets.error},l=t(9434),u=l.I0,p=l.v9,d=function(n){return n.filter.status},x="follow",f="followings",h="show all",g=(0,s.P1)([function(n){return n.tweets.items},function(n){return n.followings.ids}],(function(n,e){return n.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{isFollowing:e.includes(n.id)})}))})),w=(0,s.P1)([g,d],(function(n,e){switch(e){case h:return n;case x:return n.filter((function(n){return!n.isFollowing}));case f:return n.filter((function(n){return n.isFollowing}))}})),b=t(1678),m=t(9439);var v=t(7689),Z=t(8440),j=t(4577),y=t(5327),k=t(7448),F=t(4165),L=t(5861),z=t(9095);var S=t.p+"static/media/logo.e917114d7945c04c85a8946a331d28b6.svg";var T=t.p+"static/media/tweets.23dcbc3cc8ccc9682f24b4acffb5efb2.svg";var C,M,E,B,D,O,P,U,X=t.p+"static/media/avatar.ac85bc0b7eed23122fbe99f9bbfb2c62.svg",$=t(8966),_=t(184),q=function(){return(0,_.jsx)($.g4,{height:"12",width:"100%",radius:"9",color:"#fff",ariaLabel:"three-dots-loading",visible:!0})},G=t(168),H=t(4709),I=H.Z.button(C||(C=(0,G.Z)(["\n  min-width: 196px;\n  height: 50px;\n\n  text-align: center;\n  color: ",";\n\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n"])),(function(n){return n.theme.colText})),R=H.Z.div(M||(M=(0,G.Z)(["\n  position: relative;\n\n  width: 100%;\n  height: 100%;\n\n  padding: 284px 20px 36px;\n\n  background: ",";\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n\n  &::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 8px;\n    left: 0px;\n    top: 214px;\n\n    background-color: ",";\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n      inset 0px -1.71846px 3.43693px #ae7be3,\n      inset 0px 3.43693px 2.5777px #fbf8ff;\n  }\n"])),(function(n){return n.theme.bgTweetCard}),(function(n){return n.theme.secondary})),V=H.Z.img(E||(E=(0,G.Z)(["\n  position: absolute;\n  top: 20px;\n  left: 21px;\n"]))),W=H.Z.img(B||(B=(0,G.Z)(["\n  position: absolute;\n  top: 27px;\n  left: 50%;\n  transform: translate(-50%, 0);\n"]))),A=H.Z.div(D||(D=(0,G.Z)(["\n  position: absolute;\n  top: 178px;\n  left: 50%;\n  transform: translate(-50%, 0);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 80px;\n  height: 80px;\n\n  border-radius: 50%;\n  background-color: ",";\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06),\n    inset 0px -2.19582px 4.39163px #ae7be3,\n    inset 0px 4.39163px 3.29372px #fbf8ff;\n"])),(function(n){return n.theme.secondary})),J=H.Z.img(O||(O=(0,G.Z)(["\n  width: 64px;\n  height: 64px;\n\n  border-radius: 50%;\n  background-color: ",";\n"])),(function(n){return n.theme.primary})),K=H.Z.div(P||(P=(0,G.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  text-align: center;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  text-transform: uppercase;\n\n  color: ",";\n"])),(function(n){return n.theme.secondary})),N=(0,H.Z)(I)(U||(U=(0,G.Z)(["\n  margin: 26px auto 0;\n  text-transform: uppercase;\n  background-color: ",";\n\n  &:disabled {\n    background-color: rgba(128, 128, 128, 0.641);\n  }\n"])),(function(n){var e=n.theme;return n.isFollowing?e.accent:e.secondary})),Q=function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},Y=function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},nn=t(340);var en,tn,rn,on,sn,an,cn,ln=(0,nn.Z)("div",{target:"e1vh7pi62"})({name:"bjn8wh",styles:"position:relative"}),un=(0,nn.Z)("div",{target:"e1vh7pi61"})({name:"zs2kzy",styles:"position:absolute;z-index:1;background-color:#333;color:#fff;padding:8px;border-radius:4px;font-size:14px;line-height:1.4;white-space:nowrap;top:-75%;left:50%;transform:translateX(-50%);opacity:0;transition:opacity 0.2s ease-in-out;&::before{content:'';position:absolute;width:0;height:0;border-style:solid;border-width:6px 6px 0 6px;border-color:#333 transparent transparent transparent;top:100%;left:50%;transform:translateX(-50%);}"}),pn=(0,nn.Z)("div",{target:"e1vh7pi60"})("&:hover+",un,"{opacity:1;}"),dn=function(n){var e=n.text,t=n.children,o=(0,r.useState)(!1),i=(0,m.Z)(o,2),s=i[0],a=i[1],c=function(){a(!s)};return(0,_.jsxs)(ln,{children:[(0,_.jsx)(pn,{onMouseEnter:c,onMouseLeave:c,children:t}),s&&(0,_.jsx)(un,{children:e})]})},xn=function(n){var e=n.tweet,t=(0,r.useState)(!1),o=(0,m.Z)(t,2),i=o[0],s=o[1],a=e.id,c=e.user,l=e.avatar,p=e.followers,d=e.tweets,x=e.isFollowing,f=u(),h=function(){var n=(0,L.Z)((0,F.Z)().mark((function n(){return(0,F.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f((0,b.l)({id:a,user:c,avatar:l,tweets:d,followers:p-1})).unwrap();case 2:f((0,z.uU)(a));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),g=function(){var n=(0,L.Z)((0,F.Z)().mark((function n(){return(0,F.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f((0,b.l)({id:a,user:c,avatar:l,tweets:d,followers:p+1})).unwrap();case 2:f((0,z.LO)(a));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),w=function(){var n=(0,L.Z)((0,F.Z)().mark((function n(){return(0,F.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s(!0),!x){n.next=4;break}return n.next=4,h();case 4:if(x){n.next=7;break}return n.next=7,g();case 7:s(!1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,_.jsxs)(R,{children:[(0,_.jsx)(V,{src:S,alt:"logo"}),(0,_.jsx)(W,{src:T,alt:"tweets"}),(0,_.jsx)(A,{children:(0,_.jsx)(dn,{text:c,children:(0,_.jsx)(J,{src:l||X,alt:"avatar"})})}),(0,_.jsxs)(K,{children:[(0,_.jsxs)("p",{children:[Y(d)," tweets"]}),(0,_.jsxs)("p",{children:[Q(p)," followers"]})]}),(0,_.jsx)(N,{type:"button",isFollowing:x,onClick:w,disabled:i,children:i?(0,_.jsx)(q,{}):(0,_.jsx)("span",{children:x?"following":"follow"})})]})},fn=(0,r.memo)(xn),hn=H.Z.ul(en||(en=(0,G.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 38px;\n"]))),gn=H.Z.li(tn||(tn=(0,G.Z)(["\n  flex-basis: calc((100% - (38px * 2)) / 3);\n"]))),wn=function(n){var e=n.items;return(0,_.jsx)(hn,{children:e.map((function(n){return(0,_.jsx)(gn,{children:(0,_.jsx)(fn,{tweet:n})},n.id)}))})},bn=t(9126),mn=H.Z.div(rn||(rn=(0,G.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 40px;\n"]))),vn=(0,H.Z)(bn.RVs)(on||(on=(0,G.Z)(["\n  font-size: 20px;\n"]))),Zn=(0,H.Z)(I)(sn||(sn=(0,G.Z)(["\n  margin: 26px auto 0;\n\n  text-transform: uppercase;\n  color: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.secondary}),(function(n){return n.theme.primary})),jn=H.Z.p(an||(an=(0,G.Z)(["\n  margin: 26px auto 0;\n\n  text-align: center;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  color: ",";\n"])),(function(n){return n.theme.colText})),yn=t(6160),kn=function(){var n=p(d),e=u();return(0,_.jsx)("div",{children:(0,_.jsxs)("label",{children:["Filter:",(0,_.jsxs)("select",{id:"filter-select",value:n,onChange:function(n){e((0,yn.b)(n.currentTarget.value))},children:[(0,_.jsx)("option",{value:h,children:"Show all"}),(0,_.jsx)("option",{value:x,children:"Follow"}),(0,_.jsx)("option",{value:f,children:"Followings"})]})]})})},Fn=t(1087),Ln=(0,H.Z)(Fn.rU)(cn||(cn=(0,G.Z)(["\n  display: flex;\n  gap: 5px;\n  align-items: center;\n  text-decoration: none;\n  color: ",";\n  :hover,\n  :focus {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colText}),(function(n){return n.theme.accent})),zn=function(){var n,e,t=null!==(n=null===(e=(0,v.TH)().state)||void 0===e?void 0:e.from)&&void 0!==n?n:Z.LE,i={isLoading:p(a),error:p(c),items:p(w)},s=i.items,l=void 0===s?[]:s,d=i.isLoading,x=i.error,f=u(),h=function(n){var e=(0,r.useState)(1),t=(0,m.Z)(e,2),o=t[0],i=t[1],s=(0,r.useState)([]),a=(0,m.Z)(s,2),c=a[0],l=a[1];return(0,r.useEffect)((function(){l(n.slice(0,3*o))}),[n,o]),{shownData:c,loadMore:function(){i(o+1)},hasMore:3*o<n.length}}(l),g=h.shownData,F=h.hasMore,L=h.loadMore;(0,r.useEffect)((function(){f((0,b.Z)())}),[f]);var z=d&&0===g.length,S=!x&&0!==g.length,T=!x&&0!==g.length&&F;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.ql,{children:(0,_.jsx)("title",{children:"Tweets"})}),(0,_.jsx)(j.$,{children:(0,_.jsxs)(y.W,{children:[(0,_.jsxs)(mn,{children:[(0,_.jsxs)(Ln,{to:t,children:[(0,_.jsx)(vn,{}),(0,_.jsx)("span",{children:"Go back"})]}),!x&&(0,_.jsx)(kn,{})]}),S&&(0,_.jsx)(wn,{items:g}),T&&(0,_.jsx)(Zn,{type:"button",onClick:L,children:"Load more"}),z&&(0,_.jsx)(k.a,{}),x&&(0,_.jsxs)(jn,{children:[(0,_.jsx)("p",{children:"Oops, something went wrong"}),(0,_.jsx)("p",{children:"(\u0e51\u2022\u0301 \ufe4f\u2022\u0300\u0e51\u273f)"})]})]})})]})}},4577:function(n,e,t){t.d(e,{$:function(){return i}});var r,o=t(168),i=t(4709).Z.section(r||(r=(0,o.Z)(["\n  padding-top: 40px;\n  padding-bottom: 40px;\n"])))}}]);
//# sourceMappingURL=623.e03c5e17.chunk.js.map